/*!
 * jQuery jCarousellite Plugin v1.6.1
 *
 * Date: Sat Nov 19 23:55:07 2011 EST
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(e){function r(u,a){return parseInt(e.css(u[0],a),10)||0}e.jCarouselLite={version:"1.6.1",curr:0};e.fn.jCarouselLite=function(u){var a=e.extend({},e.fn.jCarouselLite.defaults,u);this.each(function(){function v(){return i.slice(g).slice(0,f)}function n(d){if(w)return false;var b=d>g;a.beforeStart&&a.beforeStart.call(this,v(),b);if(a.circular)if(d<=m-f-1){l.css(s,-((j-f*2)*o)+"px");g=d==m-f-1?j-f*2-1:j-f*2-a.scroll}else if(d>=j-f+1){l.css(s,-(f*o)+"px");g=d==j-f+1?f+1:f+a.scroll}else g=d;else{a.$btnPrev.toggleClass(a.btnDisabledClass,
a.btnPrev&&d<=0);a.$btnNext.toggleClass(a.btnDisabledClass,a.btnNext&&d>j-f);g=d<0?0:d>j-f?j-f:d}e.jCarouselLite.curr=g;w=true;y[s]=-(g*o);l.animate(y,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,v(),b);w=false});return false}var p={},w=false,s=a.vertical?"top":"left",y={},z=a.vertical?"height":"width",h=this,c=e(this),l=c.find("ul").eq(0),q=l.children("li"),x=q.length,f=a.visible,m=Math.min(a.start,x-1);direction=1;c.data("dirjc",direction);if(a.circular){l.prepend(q.slice(x-f-1+
1).clone(true)).append(q.slice(0,f).clone(true));m+=f}var i=l.children("li"),j=i.length,g=m;e.jCarouselLite.curr=g;c.css("visibility","visible");if(a.autoCSS){i.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"});l.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});c.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"})}var o=a.vertical?i[0].offsetHeight+r(i,"marginTop")+r(i,"marginBottom"):i[0].offsetWidth+r(i,
"marginLeft")+r(i,"marginRight");q=o*j;var C=o*f;if(a.autoCSS){p[z]=C+"px";c.css(p);i.css({width:i.width(),height:i.height()})}p[z]=q+"px";p[s]=-(g*o);l.css(p);var A=0,B=a.autoStop&&(a.circular?a.autoStop:Math.min(x,a.autoStop)),D=typeof a.auto=="number"?a.auto:a.scroll,t=function(){h.setAutoAdvance=setTimeout(function(){if(!B||B>A){direction=c.data("dirjc");n(g+direction*D);A++;t()}},a.timeout+a.speed)};e.each(["btnPrev","btnNext"],function(d,b){if(a[b]){a["$"+b]=e.isFunction(a[b])?a[b].call(c[0]):
e(a[b]);a["$"+b].bind("click.jc",function(){var k=d===0?g-a.scroll:g+a.scroll;if(a.directional)c.data("dirjc",d?1:-1);return n(k)})}});if(!a.circular){a.btnPrev&&m===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&m+a.visible>=j&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&e.each(a.btnGo,function(d,b){e(b).bind("click.jc",function(){return n(a.circular?a.visible+d:d)})});a.mouseWheel&&c.mousewheel&&c.bind("mousewheel.jc",function(d,b){return b>0?n(g-a.scroll):n(g+a.scroll)});a.pause&&a.auto&&
c.bind("mouseenter.jc",function(){c.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){c.trigger("resumeCarousel.jc")});a.auto&&t();e.jCarouselLite.vis=v;c.bind("go.jc",function(d,b){if(typeof b=="undefined")b="+=1";var k=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(k)b=k[1]=="-="?g-k[2]*1:g+k[2]*1;else b+=m;n(b)}).bind("startCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.trigger("go","+="+a.scroll);t();c.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",
function(d,b){if(!h.setAutoAdvance){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;var k=c.data("stoppedjc");if(b||!k){t();c.removeData("pausedjc");k&&c.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.data("stoppedjc",true)}).bind("endCarousel.jc",function(){if(h.setAutoAdvance){clearTimeout(h.setAutoAdvance);
h.setAutoAdvance=undefined}a.btnPrev&&a[$btnPrev].addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a[$btnNext].addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&e.each(a.btnGo,function(d,b){e(b).unbind(".jc")});e.each(["pausedjc","stoppedjc","dirjc"],function(d,b){c.removeData(b)});c.unbind(".jc")})});return this};e.fn.jCarouselLite.defaults={autoCSS:true,btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,timeout:4E3,auto:false,directional:false,
autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
